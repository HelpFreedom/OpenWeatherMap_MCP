# üå§Ô∏è MCP –°–µ—Ä–≤–µ—Ä –ü–æ–≥–æ–¥—ã —Å OpenAI

–ü—Ä–æ—Å—Ç–æ–π MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã —á–µ—Ä–µ–∑ OpenWeatherMap API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OpenAI GPT-4o-mini –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

## üìã –ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç?

- üåç –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É –¥–ª—è –ª—é–±–æ–≥–æ –≥–æ—Ä–æ–¥–∞
- üìÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π
- ü§ñ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GPT-4o-mini –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è
- üîß –†–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª MCP –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è AI –∫ –≤–Ω–µ—à–Ω–∏–º –¥–∞–Ω–Ω—ã–º

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ
# –ù–∞ macOS/Linux:
source venv/bin/activate
# –ù–∞ Windows:
venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip3 install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# API –∫–ª—é—á OpenWeatherMap (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
# –ü–æ–ª—É—á–∏—Ç–µ –Ω–∞: https://openweathermap.org/api
OPENWEATHER_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å

# API –∫–ª—é—á OpenAI
# –ü–æ–ª—É—á–∏—Ç–µ –Ω–∞: https://platform.openai.com/api-keys
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏:**

- **OpenWeatherMap**: 
  1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://openweathermap.org
  2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª API Keys
  3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω –¥–∞–µ—Ç 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å)

- **OpenAI**: 
  1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://platform.openai.com
  2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
  3. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å (–º–∏–Ω–∏–º—É–º $5)

### 3. –ó–∞–ø—É—Å–∫

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç
python3 client.py
```

## üí¨ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ –æ –ø–æ–≥–æ–¥–µ –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ:

```
üë§ –í—ã: –ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –≤ –ú–æ—Å–∫–≤–µ?
ü§ñ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç: [–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É –≤ –ú–æ—Å–∫–≤–µ]

üë§ –í—ã: –ê –∫–∞–∫–æ–π –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 5 –¥–Ω–µ–π –¥–ª—è –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞?
ü§ñ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç: [–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 5 –¥–Ω–µ–π]

üë§ –í—ã: –ß—Ç–æ –ª—É—á—à–µ –Ω–∞–¥–µ—Ç—å –≤ –õ–æ–Ω–¥–æ–Ω–µ —Å–µ–≥–æ–¥–Ω—è?
ü§ñ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç: [–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–≥–æ–¥—É –∏ –¥–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏]
```

## üîß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–∞

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –±–µ–∑ –∫–ª–∏–µ–Ω—Ç–∞:

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MCP Inspector
uv run mcp dev server.py

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ Claude Desktop
uv run mcp install server.py --name "Weather Service"
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
weather-mcp-server/
‚îú‚îÄ‚îÄ server.py          # MCP —Å–µ—Ä–≤–µ—Ä —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ–≥–æ–¥—ã
‚îú‚îÄ‚îÄ client.py          # –ö–ª–∏–µ–Ω—Ç —Å OpenAI –∏ mcp-use
‚îú‚îÄ‚îÄ .env              # API –∫–ª—é—á–∏ (–Ω–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤ Git!)
‚îú‚îÄ‚îÄ requirements.txt   # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md         # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

## üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### `get_current_weather`
–ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É –¥–ª—è –≥–æ—Ä–æ–¥–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `city` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
- `units` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): "metric" –∏–ª–∏ "imperial"

### `get_forecast`
–ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `city` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
- `days` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π (1-5)
- `units` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): "metric" –∏–ª–∏ "imperial"

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `print()` –≤ server.py** - —ç—Ç–æ —Å–ª–æ–º–∞–µ—Ç STDIO —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
2. **–•—Ä–∞–Ω–∏—Ç–µ `.env` –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –¥–æ–±–∞–≤—å—Ç–µ –≤ `.gitignore`
3. **–õ–∏–º–∏—Ç—ã API**: 
   - OpenWeatherMap Free: 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
   - OpenAI: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–µ–≥–æ —Ç–∞—Ä–∏—Ñ–∞
4. **–°—Ç–æ–∏–º–æ—Å—Ç—å OpenAI**: GPT-4o-mini –æ—á–µ–Ω—å –¥–µ—à–µ–≤–∞—è (~$0.15 –∑–∞ 1M —Ç–æ–∫–µ–Ω–æ–≤)

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–û—à–∏–±–∫–∞: "OPENWEATHER_API_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, —á—Ç–æ –∏ —Å–∫—Ä–∏–ø—Ç—ã

**–û—à–∏–±–∫–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø–æ–≥–æ–¥—É"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞

**–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [MCP Documentation](https://modelcontextprotocol.io/)
- [OpenWeatherMap API](https://openweathermap.org/api)
- [–ö–∞–Ω–∞–ª "–ß–µ—Ä–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫"](https://t.me/black_triangle_tg) 
